openapi: 3.0.0
info:
  title: GitLab API
  version: 4.0
servers:
- url: https://gitlab.example.com/api/v4
  description: GitLab API base URL
paths:
  /api/v4/projects/{id}/repository/tags:
    post:
      summary: Create a new repository tag
      description: Creates a new tag in the repository that is pointed to by the project ID.
      operationId: createRepositoryTag
      tags:
      - Repository Tags
      parameters:
      - name: id
        in: path
        description: The ID or URL-encoded path of the project
        required: true
        schema:
          type: string
      requestBody:
        description: Tag creation data
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                tag_name:
                  type: string
                  description: The name of the tag
                ref:
                  type: string
                  description: Create tag from commit SHA, another tag name, or branch
                message:
                  type: string
                  description: Specifying a message creates an annotated tag.
                release_description:
                  type: string
                  description: Add release notes to the tag
              required:
              - tag_name
              - ref
      responses:
        201:
          description: Tag created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/API_Entities_Tag'
  /api/v4/projects/{id}/repository/tags/{tag_name}:
    delete:
      summary: Delete a repository tag
      description: Deletes a tag from the repository that is pointed to by the project ID.
      operationId: deleteRepositoryTag
      tags:
      - Repository Tags
      parameters:
      - name: id
        in: path
        description: The ID or URL-encoded path of the project
        required: true
        schema:
          type: string
      - name: tag_name
        in: path
        description: The name of the tag to delete
        required: true
        schema:
          type: string
      responses:
        204:
          description: Tag deleted successfully
components:
  schemas:
    API_Entities_Tag:
      type: object
      properties:
        name:
          type: string
        message:
          type: string
        commit:
          type: object
          properties:
            id:
              type: string
            short_id:
              type: string
            created_at:
              type: string
              format: date-time
            parent_ids:
              type: array
              items:
                type: string
            title:
              type: string
            message:
              type: string
            author_name:
              type: string
            author_email:
              type: string
            authored_date:
              type: string
              format: date-time
            committer_name:
              type: string
            committer_email:
              type: string
            committed_date:
              type: string
              format: date-time
        release:
          type: object
          properties:
            description:
              type: string
